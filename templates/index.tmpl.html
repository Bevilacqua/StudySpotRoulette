<!DOCTYPE html>
<html>
{{template "header.tmpl.html"}}
<body>
  <div class="content center">
    <h1><a href="https://www.study.space">Study Space</a> Roulette</h1>
    <hr>
    <h3>Stop procrastinating... Find a place to study!</h3>
    <br />
    <div class="content">
      <div class="machine">
      <div id="textMachine">
    					<div class="top-fake" style="font-size: 50px;">Study Space</div>
              <div class="top-fake" style="font-size: 50px;">The pits of hell</div>
    					<div id="real" style="font-size: 70px;">{{.name}}</div>
              <div class="bottom-fake" style="font-size: 50px;">Tup's garden</div>
              <div class="bottom-fake" style="font-size: 50px;">The Good Scoop</div>
    	</div>
      </div>
    </div>
    <div id="descrip" class="center lead" style="display: none;">
      <button type="button" class="btn" onclick="location.reload();">Find me a new one!</button> <br /><br />
      <p>{{.description}}</p>
      <a href="https://study.space/spaces/{{.id}}" onclick="trackOutboundLink('https://study.space/spaces/{{.id}}'); return false;">Find out who else is studying here.</a>
    </div>
    <br /><br /><br />
    {{template "footer.tmpl.html"}}
  </div>
  <script>
    $(document).ready(function(){
      var mac = $("#textMachine").slotMachine({
      });

      mac.shuffle();

      setTimeout(
        function() {
          mac.stop();
          mac.destroy();
          $( "#real" ).effect( "bounce", "slow" );
          $( "#real" ).css({'font-size': '70px'});
          $( "#descrip" ).slideDown("slow");
          tops = document.getElementsByClassName('top-fake');
          bottoms = document.getElementsByClassName('bottom-fake');
          while(tops[0]) {
            tops[0].parentNode.removeChild(tops[0]);
          }
          while(bottoms[0]) {
            bottoms[0].parentNode.removeChild(bottoms[0]);
          }
        }, 1500);
    });
  </script>
</body>
</html>
